guides(color = guide_legend(nrow=1, override.aes = list(size = 0.7)),
shape = guide_legend(override.aes = list(size = 0.7))) +
theme_bw(base_size=7) +
theme(legend.position="top",
legend.justification="right",
legend.box.margin = margin(0,0,-0.2,0, "line"),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.text  = element_text(size = 7),
legend.key.width = unit(0.2,"cm"),
legend.key.size = unit(0.2,"cm"),
plot.margin = unit(x = c(-2, 1, -2, -2), units = "mm"))
conditions_plot
name <- paste("data_output/HBSC_DNSSSU/MPALC/conditions/maxprevconditions", i, ".pdf", sep="")
ggsave(name, width = 8, height = 5, units = "cm")
}
pal = c("#9e0142", "#fdae61", "#e6f598")
for(i in c(1,2,3,4,5,7,19)){
nrcon <- nrcons[i][[1]]
nams <- sapply(nrcon, function(x) paste('condition', i, x, sep=""))
sel_params <- params %>%
select(meting,
nams) %>%
rename(year = meting) %>%
gather(group, prev, -c(year))
print(sel_params)
conditions_plot <- ggplot(sel_params, aes(x = year, y = prev, color = group)) +
geom_point(size=0.8) +
geom_line(size=0.7) +
ggtitle(label = "") +
scale_x_continuous(breaks=seq(2003, 2019, 2)) +
xlab("") +
ylab("") +
scale_color_manual(values = pal,
#labels = c("condition1", "and condition2", "and condition3"),
name = "") +
guides(color = guide_legend(nrow=1, override.aes = list(size = 0.7)),
shape = guide_legend(override.aes = list(size = 0.7))) +
theme_bw(base_size=7) +
theme(legend.position="top",
legend.justification="right",
legend.box.margin = margin(0,0,-0.2,0, "line"),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.text  = element_text(size = 7),
legend.key.width = unit(0.2,"cm"),
legend.key.size = unit(0.2,"cm"),
plot.margin = unit(x = c(-2, 1, -2, -2), units = "mm"))
conditions_plot
name <- paste("data_output/HBSC_DNSSSU/MPALC/conditions/maxprevconditions", i, ".pdf", sep="")
ggsave(name, width = 8, height = 5, units = "cm")
}
pal = c("#abdda4", "#fdae61", "#9e0142")
for(i in c(1,2,3,4,5,7,19)){
nrcon <- nrcons[i][[1]]
nams <- sapply(nrcon, function(x) paste('condition', i, x, sep=""))
sel_params <- params %>%
select(meting,
nams) %>%
rename(year = meting) %>%
gather(group, prev, -c(year))
print(sel_params)
conditions_plot <- ggplot(sel_params, aes(x = year, y = prev, color = group)) +
geom_point(size=0.8) +
geom_line(size=0.7) +
ggtitle(label = "") +
scale_x_continuous(breaks=seq(2003, 2019, 2)) +
xlab("") +
ylab("") +
scale_color_manual(values = pal,
#labels = c("condition1", "and condition2", "and condition3"),
name = "") +
guides(color = guide_legend(nrow=1, override.aes = list(size = 0.7)),
shape = guide_legend(override.aes = list(size = 0.7))) +
theme_bw(base_size=7) +
theme(legend.position="top",
legend.justification="right",
legend.box.margin = margin(0,0,-0.2,0, "line"),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.text  = element_text(size = 7),
legend.key.width = unit(0.2,"cm"),
legend.key.size = unit(0.2,"cm"),
plot.margin = unit(x = c(-2, 1, -2, -2), units = "mm"))
conditions_plot
name <- paste("data_output/HBSC_DNSSSU/MPALC/conditions/maxprevconditions", i, ".pdf", sep="")
ggsave(name, width = 8, height = 5, units = "cm")
}
pal = c("#abdda4", "#fdae61", "#9e0142")
for(i in c(1,2,3,4,5,7,19)){
nrcon <- nrcons[i][[1]]
nams <- sapply(nrcon, function(x) paste('condition', i, x, sep=""))
sel_params <- params %>%
select(meting,
nams) %>%
rename(year = meting) %>%
gather(group, prev, -c(year))
print(sel_params)
conditions_plot <- ggplot(sel_params, aes(x = year, y = prev, color = group)) +
geom_point(size=0.8) +
geom_line(size=0.7) +
ggtitle(label = "") +
scale_x_continuous(breaks=seq(2003, 2019, 2)) +
xlab("") +
ylab("") +
scale_color_manual(values = pal,
#labels = c("condition1", "and condition2", "and condition3"),
name = "") +
guides(color = guide_legend(nrow=1, override.aes = list(size = 0.7)),
shape = guide_legend(override.aes = list(size = 0.7))) +
theme_bw(base_size=7) +
theme(legend.position="top",
legend.justification="right",
legend.box.margin = margin(0,0,-0.2,0, "line"),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.text  = element_text(size = 7),
legend.key.width = unit(0.2,"cm"),
legend.key.size = unit(0.2,"cm"),
plot.margin = unit(x = c(-2, 1, -2, -2), units = "mm"))
name <- paste("data_output/HBSC_DNSSSU/MPALC/conditions/maxprevconditions", i, ".pdf", sep="")
ggsave(name, width = 8, height = 5, units = "cm")
}
pal = c("#abdda4", "#fdae61", "#9e0142")
for(i in c(1,2,3,4,5,7,19)){
nrcon <- nrcons[i][[1]]
nams <- sapply(nrcon, function(x) paste('condition', i, x, sep=""))
labels <- sapply(nrcon, function(x) paste('condition', x, sep=""))
sel_params <- params %>%
select(meting,
nams) %>%
rename(year = meting) %>%
gather(group, prev, -c(year))
min_prev <- min(sel_params$prev)
max_prev <- min(sel_params$prev)
conditions_plot <- ggplot(sel_params, aes(x = year, y = prev, color = group)) +
geom_point(size=0.8) +
geom_line(size=0.7) +
ggtitle(label = paste("Subgroup", i, sep="")) +
scale_x_continuous(breaks=seq(2003, 2019, 2)) +
xlab("") +
ylab("") +
scale_color_manual(values = pal,
labels = labels,
name = "") +
scale_y_continuous(breaks = seq(min_prev - 0.1, max_prev + 0.1, by = 10)) +
guides(color = guide_legend(nrow=1, override.aes = list(size = 0.7)),
shape = guide_legend(override.aes = list(size = 0.7))) +
theme_bw(base_size=7) +
theme(legend.position="top",
legend.justification="right",
legend.box.margin = margin(0,0,-0.2,0, "line"),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.text  = element_text(size = 7),
legend.key.width = unit(0.2,"cm"),
legend.key.size = unit(0.2,"cm"),
plot.margin = unit(x = c(-2, 1, -2, -2), units = "mm"))
name <- paste("data_output/HBSC_DNSSSU/MPALC/conditions/maxprevconditions", i, ".pdf", sep="")
ggsave(name, width = 8, height = 5, units = "cm")
}
pal = c("#abdda4", "#fdae61", "#9e0142")
for(i in c(1,2,3,4,5,7,19)){
nrcon <- nrcons[i][[1]]
nams <- sapply(nrcon, function(x) paste('condition', i, x, sep=""))
labels <- sapply(nrcon, function(x) paste('condition', x, sep=""))
sel_params <- params %>%
select(meting,
nams) %>%
rename(year = meting) %>%
gather(group, prev, -c(year))
min_prev <- min(sel_params$prev)
max_prev <- min(sel_params$prev)
conditions_plot <- ggplot(sel_params, aes(x = year, y = prev, color = group)) +
geom_point(size=0.8) +
geom_line(size=0.7) +
ggtitle(label = paste("Subgroup", i, sep="")) +
scale_x_continuous(breaks=seq(2003, 2019, 2)) +
xlab("") +
ylab("") +
scale_color_manual(values = pal,
labels = labels,
name = "") +
scale_y_continuous(limits = c(min_prev - 0.1, max_prev + 0.1),
breaks = seq(min_prev - 0.1, max_prev + 0.1, by = 10)) +
guides(color = guide_legend(nrow=1, override.aes = list(size = 0.7)),
shape = guide_legend(override.aes = list(size = 0.7))) +
theme_bw(base_size=7) +
theme(legend.position="top",
legend.justification="right",
legend.box.margin = margin(0,0,-0.2,0, "line"),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.text  = element_text(size = 7),
legend.key.width = unit(0.2,"cm"),
legend.key.size = unit(0.2,"cm"),
plot.margin = unit(x = c(-2, 1, -2, -2), units = "mm"))
name <- paste("data_output/HBSC_DNSSSU/MPALC/conditions/maxprevconditions", i, ".pdf", sep="")
ggsave(name, width = 8, height = 5, units = "cm")
}
?floor
max_prev <- max(sel_params$prev)
ylabels <- seq(floor(min_prev, digits=1), ceiling(max_prev, digits=1))
floor(max_prev, 2)
ylabels <- seq(round(min_prev, digits=1), round(max_prev, digits=1))
round(max_prev, digits=1)
ylabels <- seq(round(min_prev, digits=1), round(max_prev, digits=1))
?seq
ylabels <- seq(round(min_prev, digits=1), round(max_prev, digits=1), length.out= = 5)
ylabels <- seq(round(min_prev, digits=1), round(max_prev, digits=1), length.out = 5)
for(i in c(1,2,3,4,5,7,19)){
nrcon <- nrcons[i][[1]]
nams <- sapply(nrcon, function(x) paste('condition', i, x, sep=""))
labels <- sapply(nrcon, function(x) paste('condition', x, sep=""))
sel_params <- params %>%
select(meting,
nams) %>%
rename(year = meting) %>%
gather(group, prev, -c(year))
min_prev <- min(sel_params$prev)
max_prev <- max(sel_params$prev)
ylabels <- seq(round(min_prev, digits=1), round(max_prev, digits=1), length.out = 5)
conditions_plot <- ggplot(sel_params, aes(x = year, y = prev, color = group)) +
geom_point(size=0.8) +
geom_line(size=0.7) +
ggtitle(label = paste("Subgroup", i, sep="")) +
scale_x_continuous(breaks=seq(2003, 2019, 2)) +
xlab("") +
ylab("") +
scale_color_manual(values = pal,
labels = labels,
name = "") +
scale_y_continuous(breaks = ylabels) +
guides(color = guide_legend(nrow=1, override.aes = list(size = 0.7)),
shape = guide_legend(override.aes = list(size = 0.7))) +
theme_bw(base_size=7) +
theme(legend.position="top",
legend.justification="right",
legend.box.margin = margin(0,0,-0.2,0, "line"),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.text  = element_text(size = 7),
legend.key.width = unit(0.2,"cm"),
legend.key.size = unit(0.2,"cm"),
plot.margin = unit(x = c(-2, 1, -2, -2), units = "mm"))
name <- paste("data_output/HBSC_DNSSSU/MPALC/conditions/maxprevconditions", i, ".pdf", sep="")
ggsave(name, width = 8, height = 5, units = "cm")
}
pal = c("#abdda4", "#fdae61", "#9e0142")
for(i in c(1,2,3,4,5,7,19)){
nrcon <- nrcons[i][[1]]
nams <- sapply(nrcon, function(x) paste('condition', i, x, sep=""))
labels <- sapply(nrcon, function(x) paste('condition', x, sep=""))
sel_params <- params %>%
select(meting,
nams) %>%
rename(year = meting) %>%
gather(group, prev, -c(year))
min_prev <- min(sel_params$prev)
max_prev <- max(sel_params$prev)
ylabels <- seq(round(min_prev, digits=2), round(max_prev, digits=2), length.out = 6)
conditions_plot <- ggplot(sel_params, aes(x = year, y = prev, color = group)) +
geom_point(size=0.8) +
geom_line(size=0.7) +
ggtitle(label = paste("Subgroup", i, sep="")) +
scale_x_continuous(breaks=seq(2003, 2019, 2)) +
xlab("") +
ylab("") +
scale_color_manual(values = pal,
labels = labels,
name = "") +
scale_y_continuous(breaks = ylabels) +
guides(color = guide_legend(nrow=1, override.aes = list(size = 0.7)),
shape = guide_legend(override.aes = list(size = 0.7))) +
theme_bw(base_size=7) +
theme(legend.position="top",
legend.justification="right",
legend.box.margin = margin(0,0,-0.2,0, "line"),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.text  = element_text(size = 7),
legend.key.width = unit(0.2,"cm"),
legend.key.size = unit(0.2,"cm"),
plot.margin = unit(x = c(-2, 1, -2, -2), units = "mm"))
name <- paste("data_output/HBSC_DNSSSU/MPALC/conditions/maxprevconditions", i, ".pdf", sep="")
ggsave(name, width = 8, height = 5, units = "cm")
}
full <- seq(0.0, 1.0, 11)
full
full <- seq(0.0, 1.0, length.out=11)
full
floor(min_prev)
full == floor(min_prev)
full[full == floor(min_prev)]
full[full == ceiling(max_prev)]
full[full == ceiling(max_prev)/10]
full[full == floor(min_prev)/10]
ceiling(max_prev)
round(max_prev, digit = 1)
round(min_prev, digit = 1)
pal = c("#abdda4", "#fdae61", "#9e0142")
for(i in c(1,2,3,4,5,7,19)){
nrcon <- nrcons[i][[1]]
nams <- sapply(nrcon, function(x) paste('condition', i, x, sep=""))
labels <- sapply(nrcon, function(x) paste('condition', x, sep=""))
sel_params <- params %>%
select(meting,
nams) %>%
rename(year = meting) %>%
gather(group, prev, -c(year))
min_prev <- min(sel_params$prev)
max_prev <- max(sel_params$prev)
ylabels <- seq(round(min_prev, digits=1), round(max_prev, digits=1), by = 0.1)
conditions_plot <- ggplot(sel_params, aes(x = year, y = prev, color = group)) +
geom_point(size=0.8) +
geom_line(size=0.7) +
ggtitle(label = paste("Subgroup", i, sep="")) +
scale_x_continuous(breaks=seq(2003, 2019, 2)) +
xlab("") +
ylab("") +
scale_color_manual(values = pal,
labels = labels,
name = "") +
scale_y_continuous(breaks = ylabels) +
guides(color = guide_legend(nrow=1, override.aes = list(size = 0.7)),
shape = guide_legend(override.aes = list(size = 0.7))) +
theme_bw(base_size=7) +
theme(legend.position="top",
legend.justification="right",
legend.box.margin = margin(0,0,-0.2,0, "line"),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.text  = element_text(size = 7),
legend.key.width = unit(0.2,"cm"),
legend.key.size = unit(0.2,"cm"),
plot.margin = unit(x = c(-2, 1, -2, -2), units = "mm"))
name <- paste("data_output/HBSC_DNSSSU/MPALC/conditions/maxprevconditions", i, ".pdf", sep="")
ggsave(name, width = 8, height = 5, units = "cm")
}
pal = c("#abdda4", "#fdae61", "#9e0142")
for(i in c(1,2,3,4,5,7,19)){
nrcon <- nrcons[i][[1]]
nams <- sapply(nrcon, function(x) paste('condition', i, x, sep=""))
labels <- sapply(nrcon, function(x) paste('condition', x, sep=""))
sel_params <- params %>%
select(meting,
nams) %>%
rename(year = meting) %>%
gather(group, prev, -c(year))
min_prev <- min(sel_params$prev)
max_prev <- max(sel_params$prev)
ylabels <- seq(round(min_prev, digits=1), round(max_prev, digits=1), by = 0.1)
conditions_plot <- ggplot(sel_params, aes(x = year, y = prev, color = group)) +
geom_point(size=0.8) +
geom_line(size=0.7) +
ggtitle(label = paste("Subgroup", i, sep="")) +
scale_x_continuous(breaks=seq(2003, 2019, 2)) +
xlab("") +
ylab("") +
scale_color_manual(values = pal,
labels = labels,
name = "") +
scale_y_continuous(breaks = ylabels) +
guides(color = guide_legend(nrow=1, override.aes = list(size = 0.7)),
shape = guide_legend(override.aes = list(size = 0.7))) +
theme_bw(base_size=7) +
theme(legend.position="top",
legend.justification="right",
legend.box.margin = margin(0,0,-0.2,0, "line"),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.text  = element_text(size = 7),
legend.key.width = unit(0.2,"cm"),
legend.key.size = unit(0.2,"cm"),
plot.title = element_text(vjust=2),
plot.margin = unit(x = c(-2, 1, -2, -2), units = "mm"))
name <- paste("data_output/HBSC_DNSSSU/MPALC/conditions/maxprevconditions", i, ".pdf", sep="")
ggsave(name, width = 8, height = 5, units = "cm")
}
pal = c("#abdda4", "#fdae61", "#9e0142")
for(i in c(1,2,3,4,5,7,19)){
nrcon <- nrcons[i][[1]]
nams <- sapply(nrcon, function(x) paste('condition', i, x, sep=""))
labels <- sapply(nrcon, function(x) paste('condition', x, sep=""))
sel_params <- params %>%
select(meting,
nams) %>%
rename(year = meting) %>%
gather(group, prev, -c(year))
min_prev <- min(sel_params$prev)
max_prev <- max(sel_params$prev)
ylabels <- seq(round(min_prev, digits=1), round(max_prev, digits=1), by = 0.1)
conditions_plot <- ggplot(sel_params, aes(x = year, y = prev, color = group)) +
geom_point(size=0.8) +
geom_line(size=0.7) +
ggtitle(label = paste("Subgroup", i, sep="")) +
scale_x_continuous(breaks=seq(2003, 2019, 2)) +
xlab("") +
ylab("") +
scale_color_manual(values = pal,
labels = labels,
name = "") +
scale_y_continuous(breaks = ylabels) +
guides(color = guide_legend(nrow=1, override.aes = list(size = 0.7)),
shape = guide_legend(override.aes = list(size = 0.7))) +
theme_bw(base_size=7) +
theme(legend.position="top",
legend.justification="right",
legend.box.margin = margin(0,0,-0.2,0, "line"),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.text  = element_text(size = 7),
legend.key.width = unit(0.2,"cm"),
legend.key.size = unit(0.2,"cm"),
plot.title = element_text(vjust=-2),
plot.margin = unit(x = c(-2, 1, -2, -2), units = "mm"))
name <- paste("data_output/HBSC_DNSSSU/MPALC/conditions/maxprevconditions", i, ".pdf", sep="")
ggsave(name, width = 8, height = 5, units = "cm")
}
pal = c("#abdda4", "#fdae61", "#9e0142")
for(i in c(1,2,3,4,5,7,19)){
nrcon <- nrcons[i][[1]]
nams <- sapply(nrcon, function(x) paste('condition', i, x, sep=""))
labels <- sapply(nrcon, function(x) paste('condition', x, sep=""))
sel_params <- params %>%
select(meting,
nams) %>%
rename(year = meting) %>%
gather(group, prev, -c(year))
min_prev <- min(sel_params$prev)
max_prev <- max(sel_params$prev)
ylabels <- seq(round(min_prev, digits=1), round(max_prev, digits=1), by = 0.1)
conditions_plot <- ggplot(sel_params, aes(x = year, y = prev, color = group)) +
geom_point(size=0.8) +
geom_line(size=0.7) +
ggtitle(label = paste("Subgroup ", i, sep="")) +
scale_x_continuous(breaks=seq(2003, 2019, 2)) +
xlab("") +
ylab("") +
scale_color_manual(values = pal,
labels = labels,
name = "") +
scale_y_continuous(breaks = ylabels) +
guides(color = guide_legend(nrow=1, override.aes = list(size = 0.7)),
shape = guide_legend(override.aes = list(size = 0.7))) +
theme_bw(base_size=7) +
theme(legend.position="top",
legend.justification="right",
legend.box.margin = margin(0,0,-0.2,0, "line"),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.text  = element_text(size = 7),
legend.key.width = unit(0.2,"cm"),
legend.key.size = unit(0.2,"cm"),
plot.title = element_text(vjust=-4),
plot.margin = unit(x = c(-2, 1, -2, -2), units = "mm"))
name <- paste("data_output/HBSC_DNSSSU/MPALC/conditions/maxprevconditions", i, ".pdf", sep="")
ggsave(name, width = 8, height = 5, units = "cm")
}
pal = c("#abdda4", "#fdae61", "#9e0142")
for(i in c(1,2,3,4,5,7,19)){
nrcon <- nrcons[i][[1]]
nams <- sapply(nrcon, function(x) paste('condition', i, x, sep=""))
labels <- sapply(nrcon, function(x) paste('condition', x, sep=""))
sel_params <- params %>%
select(meting,
nams) %>%
rename(year = meting) %>%
gather(group, prev, -c(year))
min_prev <- min(sel_params$prev)
max_prev <- max(sel_params$prev)
ylabels <- seq(round(min_prev, digits=1), round(max_prev, digits=1), by = 0.1)
conditions_plot <- ggplot(sel_params, aes(x = year, y = prev, color = group)) +
geom_point(size=0.8) +
geom_line(size=0.7) +
ggtitle(label = paste("Subgroup ", i, sep="")) +
scale_x_continuous(breaks=seq(2003, 2019, 2)) +
xlab("") +
ylab("") +
scale_color_manual(values = pal,
labels = labels,
name = "") +
scale_y_continuous(breaks = ylabels) +
guides(color = guide_legend(nrow=1, override.aes = list(size = 0.7)),
shape = guide_legend(override.aes = list(size = 0.7))) +
theme_bw(base_size=7) +
theme(legend.position="top",
legend.justification="right",
legend.box.margin = margin(0,0,-0.2,0, "line"),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.minor.y = element_blank(),
legend.text  = element_text(size = 7),
legend.key.width = unit(0.2,"cm"),
legend.key.size = unit(0.2,"cm"),
plot.title = element_text(vjust=-8),
plot.margin = unit(x = c(-2, 1, -2, -2), units = "mm"))
name <- paste("data_output/HBSC_DNSSSU/MPALC/conditions/maxprevconditions", i, ".pdf", sep="")
ggsave(name, width = 8, height = 5, units = "cm")
}
